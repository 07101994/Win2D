<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CanvasAnimatedControl Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="CanvasAnimatedControl class" /><meta name="System.Keywords" content="Microsoft.Graphics.Canvas.CanvasAnimatedControl class" /><meta name="System.Keywords" content="CanvasAnimatedControl class, about CanvasAnimatedControl class" /><meta name="Microsoft.Help.F1" content="Microsoft.Graphics.Canvas.CanvasAnimatedControl" /><meta name="Microsoft.Help.Id" content="T:Microsoft.Graphics.Canvas.CanvasAnimatedControl" /><meta name="Description" content="XAML control providing swap chain rendering. Useful for scenarios with large amounts of quickly animating content." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Microsoft.Graphics.Canvas" /><meta name="file" content="T_Microsoft_Graphics_Canvas_CanvasAnimatedControl" /><meta name="guid" content="T_Microsoft_Graphics_Canvas_CanvasAnimatedControl" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Win2D documentation</div><div class="pageBody"><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn">CanvasAnimatedControl Class</td></tr></table><span class="introStyle"></span><div class="summary">XAML control providing swap chain rendering. Useful for scenarios with large amounts of quickly animating content.</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_self">System<span id="LST746AFA54_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST746AFA54_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <a href="T_Windows_UI_Xaml_Controls_UserControl.htm">Windows.UI.Xaml.Controls<span id="LST746AFA54_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST746AFA54_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>UserControl</a><br />    <span class="selflink">Microsoft.Graphics.Canvas<span id="LST746AFA54_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST746AFA54_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CanvasAnimatedControl</span><br /></div><p> </p><strong>Namespace:</strong> <a href="N_Microsoft_Graphics_Canvas.htm">Microsoft.Graphics.Canvas</a><br /><strong>Assembly:</strong> Microsoft.Graphics.Canvas (in Microsoft.Graphics.Canvas.dll) Version: 0.0.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EACA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EACA');return false;" title="Copy">Copy</a></div></div><div id="ID1EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="identifier">CanvasAnimatedControl</span> : <span class="identifier">UserControl</span>, 
	<span class="identifier">ICanvasAnimatedControl</span>, <span class="identifier">ICanvasResourceCreatorWithDpi</span>, <span class="identifier">ICanvasResourceCreator</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EACA");</script></div><p>The <span class="selflink">CanvasAnimatedControl</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_Microsoft_Graphics_Canvas_CanvasAnimatedControl__ctor.htm">CanvasAnimatedControl</a></td><td><div class="summary">Initializes a new instance of the CanvasAnimatedControl class.</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID4RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_Microsoft_Graphics_Canvas_CanvasAnimatedControl_ConvertDipsToPixels.htm">ConvertDipsToPixels</a></td><td><div class="summary">Converts units from device independent pixels (dips) to physical pixels based on the current DPI of this control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_Microsoft_Graphics_Canvas_CanvasAnimatedControl_ConvertPixelsToDips.htm">ConvertPixelsToDips</a></td><td><div class="summary">Converts units from physical pixels to device independent pixels (dips) based on the current DPI of this control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_Microsoft_Graphics_Canvas_CanvasAnimatedControl_ResetElapsedTime.htm">ResetElapsedTime</a></td><td><div class="summary">Resets the elapsed time of the control's timer.</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID5RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_ClearColor.htm">ClearColor</a></td><td><div class="summary">The color that the control is cleared to before the Draw event is raised.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Device.htm">Device</a></td><td><div class="summary">Gets the underlying device used by this control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Dpi.htm">Dpi</a></td><td><div class="summary">Gets the current dots-per-inch (DPI) of this control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Input.htm">Input</a></td><td><div class="summary">Gets an object used to configure pointer input for the control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_IsFixedTimeStep.htm">IsFixedTimeStep</a></td><td><div class="summary">Indicates whether the control's timer is fixed time step, as opposed to variable time step.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Paused.htm">Paused</a></td><td><div class="summary">Indicates whether the control's rendering is paused.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_ReadyToDraw.htm">ReadyToDraw</a></td><td><div class="summary">Gets whether the control is in a state where it is ready to draw.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Size.htm">Size</a></td><td><div class="summary">Gets the current size of the control.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Microsoft_Graphics_Canvas_CanvasAnimatedControl_TargetElapsedTime.htm">TargetElapsedTime</a></td><td><div class="summary">Gets or sets the expected time for each iteration of the Draw/Update loop.</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Events</span></div><div id="ID6RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubevent.gif" alt="Public event" title="Public event" /></td><td><a href="E_Microsoft_Graphics_Canvas_CanvasAnimatedControl_CreateResources.htm">CreateResources</a></td><td><div class="summary">Hook this event to create any resources needed for your drawing.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubevent.gif" alt="Public event" title="Public event" /></td><td><a href="E_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Draw.htm">Draw</a></td><td><div class="summary">Hook this event to issue your immediate mode 2D drawing calls.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubevent.gif" alt="Public event" title="Public event" /></td><td><a href="E_Microsoft_Graphics_Canvas_CanvasAnimatedControl_Update.htm">Update</a></td><td><div class="summary">Hook this event to update any data, as necessary, for your app's animation.</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID7RBSection" class="collapsibleSection"><p>
        To add an animated control to your app, add CanvasAnimatedControl to your
        XAML tree. Subscribe to its CanvasAnimatedControl.Draw event and 
        CanvasAnimatedControl.Update events. In the Draw handler, use 
        CanvasDrawEventArgs.DrawingSession to draw your immediate mode 2D graphics.
        In the Update handler, update any animation data as necessary.
        </p><p>
        CanvasAnimatedControl is designed to run an app's drawing and animation state updating
        logic on a timer. This timer two timing options: fixed, and variable. The 
        default is fixed.
        </p><p>
        Fixed timing causes draw/update to be called at a fixed rate. This fixed rate 
        is specified with TargetElapsedTime. An app can simply update its animation 
        state by some fixed amount per update,  and simply rely on Update to be issued
        the right number of times, at the right frequency.
        </p><p>
        However, if the rendering work is too costly to complete within TargetElapsedTime,
        the Update will still be issued, just late. Depending on how slow things are, Update 
        will be called multiple times as necessary, in order to 'catch up'. An app can
        identify that this is happening based on the IsRunningSlowly field of CanvasTimingInformation.
        </p><p>
        Variable timestep works a bit differently. Draw/Update are called as fast as possible,
        and the timing information is returned to the app. The app determines how long it has been
        since the previous update, and uses that to control animation.
        </p><p>
        Like many XAML constructs, this control is designed to be fully compatible with 
        pointer (pen, mouse, touch) input. To be notified of pointer events which occur
        overtop of the control, subscribe to input events such as PointerPressed
        or PointerMoved using the Input field of CanvasAnimatedControl. This can be done from
        anywhere in your app. Your app will recieve input notification events when they occur,
        whenever the control is not paused.
        </p><p>
        When listening to input events, this control processes them on its render thread,
        rather than on the UI thread. An app's input notifications will, therefore, also 
        occur on the render thread. Because of this, it's valuable to avoid overly costly
        input handlers, and to be aware of non-UI-thread restrictions that exist for 
        many XAML operations. This design lends itself to smooth program execution without 
        stalling the UI. 
        </p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID8RB')" onkeypress="SectionExpandCollapse_CheckKey('ID8RB', event)" tabindex="0"><img id="ID8RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID8RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="N_Microsoft_Graphics_Canvas.htm">Microsoft.Graphics.Canvas Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="http://github.com/Microsoft/Win2D/blob/master/LICENSE.txt" target="_blank">Copyright (c) Microsoft Corporation. All rights reserved.</a></p> </div></body></html>